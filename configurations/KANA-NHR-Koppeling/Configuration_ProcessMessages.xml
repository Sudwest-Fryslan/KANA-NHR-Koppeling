<Module xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="../FrankConfig.xsd">
	<Adapter name="ProcessDDSMessageToKana">
		<Receiver>
			<ApiListener
				name="ProcessDDSMessageToKana"
				method="POST"
				uriPattern="/ProcessDDSMessageToKana/" />
		</Receiver>

		<Pipeline>
			<Exits>
				<Exit name="Success" state="SUCCESS" />
				<Exit name="Exception" state="ERROR" />
			</Exits>

			<!-- <XsltPipe name="AddMissingElement" indentXml="true" styleSheetName="xsl/AddElement.xsl" /> -->
			
			<SenderPipe name="SendToKana" getInputFromSessionKey="originalMessage">
				<WebServiceSender name="SendToKana" url="${kana_endpoint}" throwApplicationFaults="false" />
			</SenderPipe>

			<SenderPipe name="SendToKana2" getInputFromSessionKey="originalMessage">
				<WebServiceSender name="SendToKana" url="${kana_endpoint}" throwApplicationFaults="false" soapAction="vesLv01"/>
			</SenderPipe>

			<SenderPipe name="SendToKana3" getInputFromSessionKey="originalMessage">
				<WebServiceSender name="SendToKana" url="${kana_endpoint}" throwApplicationFaults="false" soapAction="http://www.egem.nl/StUF/sector/bg/0310/vesLv01"/>
			</SenderPipe>
		</Pipeline>
	</Adapter>

</Module>